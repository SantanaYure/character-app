<div 
  *ngIf="isVisible" 
  class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-overlay"
  [class.opacity-100]="isVisible"
  [class.opacity-0]="!isVisible"
  (click)="onBackdropClick($event)">
  
  <div class="fixed inset-0 bg-black bg-opacity-50"></div>
  
  <div class="relative bg-primary-secondary rounded-lg shadow-xl max-w-md w-full mx-4 animate-scale-in">
    <!-- Header -->
    <div class="px-6 py-4 border-b border-primary-accent">
      <h3 class="text-lg font-semibold text-primary-text">
        {{ modalConfig?.title }}
      </h3>
    </div>
    
    <!-- Body -->
    <div class="px-6 py-4">
      <div *ngIf="modalConfig?.type === 'loading'" class="flex items-center space-x-3">
        <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-primary-accent"></div>
        <p class="text-primary-light-gray">{{ modalConfig?.message }}</p>
      </div>
      
      <p *ngIf="modalConfig?.type !== 'loading'" class="text-primary-light-gray">
        {{ modalConfig?.message }}
      </p>
    </div>
    
    <!-- Footer -->
    <div *ngIf="modalConfig?.type !== 'loading'" class="px-6 py-4 border-t border-primary-accent flex justify-end space-x-3">
      <button 
        *ngIf="modalConfig?.type === 'confirmation'"
        type="button"
        class="px-4 py-2 text-sm font-medium text-primary-light-gray bg-primary-bg rounded-md hover:bg-primary-border focus:outline-none focus:ring-2 focus:ring-primary-accent transition-colors"
        (click)="onCancel()">
        {{ modalConfig?.cancelText }}
      </button>
      
      <button 
        type="button"
        class="px-4 py-2 text-sm font-medium text-primary-text bg-primary-accent rounded-md hover:bg-primary-secondary focus:outline-none focus:ring-2 focus:ring-primary-accent transition-colors"
        [class.bg-green-600]="modalConfig?.type === 'confirmation'"
        [class.hover:bg-green-700]="modalConfig?.type === 'confirmation'"
        (click)="onConfirm()">
        {{ modalConfig?.confirmText }}
      </button>
    </div>
  </div>
</div>
